(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80194],{74069:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign",function(){return n(99967)}])},99967:function(t,e,n){"use strict";n.r(e),n.d(e,{OfferSignStatusEnum:function(){return h},Sign:function(){return v},SignStatus:function(){return l},default:function(){return B}});var r,i,s,o,a,l,h,u=n(52322),c=n(44245),d=n(88859),f=n(2784),E=n(73340),m=n(83024),g=n(87848),p=JSON.parse('{"v":"5.5.2","fr":25,"ip":0,"op":50,"w":144,"h":144,"nm":"Check 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"George_End-Icon-Animation-02 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[72,72,0],"ix":2},"a":{"a":0,"k":[72,72,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"i":{"x":[0.41,0.41,0.667],"y":[0.96,0.96,1]},"o":{"x":[0.535,0.535,0.333],"y":[0.017,0.017,0]},"t":6,"s":[108.379,108.379,100]},{"i":{"x":[0.541,0.541,0.667],"y":[0.994,0.994,1]},"o":{"x":[0.553,0.553,0.333],"y":[0.049,0.049,0]},"t":9,"s":[91.379,91.379,100]},{"i":{"x":[0.493,0.493,0.667],"y":[0.929,0.929,1]},"o":{"x":[0.631,0.631,0.333],"y":[0.027,0.027,0]},"t":12,"s":[104.379,104.379,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,1]},"o":{"x":[0.503,0.503,0.333],"y":[-0.026,-0.026,0]},"t":15,"s":[94.52,94.52,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":18,"s":[100,100,100]},{"t":20,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-27,2],[-8,21],[27,-21]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999940162,0.999999940162,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":85,"ix":1}},{"n":"o","nm":"offset","v":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[85]},{"t":15,"s":[0]}],"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[72,72],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-29.823],[29.823,0],[0,29.823],[-29.823,0]],"o":[[0,29.823],[-29.823,0],[0,-29.823],[29.823,0]],"v":[[54,0],[0,54],[-54,0],[0,-54]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999940162,0.999999940162,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[72,72],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":50,"st":0,"bm":0}],"markers":[]}'),R=Object.defineProperty,x=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,S=(t,e,n)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||(e={}))N.call(e,n)&&S(t,n,e[n]);if(x)for(var n of x(e))y.call(e,n)&&S(t,n,e[n]);return t},w=(t,e)=>{var n={};for(var r in t)N.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&x)for(var r of x(t))0>e.indexOf(r)&&y.call(t,r)&&(n[r]=t[r]);return n};(t=>{let e=class{constructor(t,n,r,i){if(this.version=t,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw RangeError("Version value out of range");if(i<-1||i>7)throw RangeError("Mask value out of range");this.size=4*t+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();let a=this.addEccAndInterleave(r);if(this.drawCodewords(a),-1==i){let t=1e9;for(let e=0;e<8;e++){this.applyMask(e),this.drawFormatBits(e);let n=this.getPenaltyScore();n<t&&(i=e,t=n),this.applyMask(e)}}s(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){let i=t.QrSegment.makeSegments(n);return e.encodeSegments(i,r)}static encodeBinary(n,r){let i=t.QrSegment.makeBytes(n);return e.encodeSegments([i],r)}static encodeSegments(t,n,i=1,o=40,l=-1,h=!0){let u,c;if(!(e.MIN_VERSION<=i&&i<=o&&o<=e.MAX_VERSION)||l<-1||l>7)throw RangeError("Invalid value");for(u=i;;u++){let r=8*e.getNumDataCodewords(u,n),i=a.getTotalBits(t,u);if(i<=r){c=i;break}if(u>=o)throw RangeError("Data too long")}for(let t of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])h&&c<=8*e.getNumDataCodewords(u,t)&&(n=t);let d=[];for(let e of t)for(let t of(r(e.mode.modeBits,4,d),r(e.numChars,e.mode.numCharCountBits(u),d),e.getData()))d.push(t);s(d.length==c);let f=8*e.getNumDataCodewords(u,n);s(d.length<=f),r(0,Math.min(4,f-d.length),d),r(0,(8-d.length%8)%8,d),s(d.length%8==0);for(let t=236;d.length<f;t^=253)r(t,8,d);let E=[];for(;8*E.length<d.length;)E.push(0);return d.forEach((t,e)=>E[e>>>3]|=t<<7-(7&e)),new e(u,n,E,l)}getModule(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let t=this.getAlignmentPatternPositions(),e=t.length;for(let n=0;n<e;n++)for(let r=0;r<e;r++)0==n&&0==r||0==n&&r==e-1||n==e-1&&0==r||this.drawAlignmentPattern(t[n],t[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){let e=this.errorCorrectionLevel.formatBits<<3|t,n=e;for(let t=0;t<10;t++)n=n<<1^(n>>>9)*1335;let r=(e<<10|n)^21522;s(r>>>15==0);for(let t=0;t<=5;t++)this.setFunctionModule(8,t,i(r,t));this.setFunctionModule(8,7,i(r,6)),this.setFunctionModule(8,8,i(r,7)),this.setFunctionModule(7,8,i(r,8));for(let t=9;t<15;t++)this.setFunctionModule(14-t,8,i(r,t));for(let t=0;t<8;t++)this.setFunctionModule(this.size-1-t,8,i(r,t));for(let t=8;t<15;t++)this.setFunctionModule(8,this.size-15+t,i(r,t));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let e=0;e<12;e++)t=t<<1^(t>>>11)*7973;let e=this.version<<12|t;s(e>>>18==0);for(let t=0;t<18;t++){let n=i(e,t),r=this.size-11+t%3,s=Math.floor(t/3);this.setFunctionModule(r,s,n),this.setFunctionModule(s,r,n)}}drawFinderPattern(t,e){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){let i=Math.max(Math.abs(r),Math.abs(n)),s=t+r,o=e+n;0<=s&&s<this.size&&0<=o&&o<this.size&&this.setFunctionModule(s,o,2!=i&&4!=i)}}drawAlignmentPattern(t,e){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(t+r,e+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(t,e,n){this.modules[e][t]=n,this.isFunction[e][t]=!0}addEccAndInterleave(t){let n=this.version,r=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(n,r))throw RangeError("Invalid argument");let i=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],a=Math.floor(e.getNumRawDataModules(n)/8),l=i-a%i,h=Math.floor(a/i),u=[],c=e.reedSolomonComputeDivisor(o);for(let n=0,r=0;n<i;n++){let i=t.slice(r,r+h-o+(n<l?0:1));r+=i.length;let s=e.reedSolomonComputeRemainder(i,c);n<l&&i.push(0),u.push(i.concat(s))}let d=[];for(let t=0;t<u[0].length;t++)u.forEach((e,n)=>{(t!=h-o||n>=l)&&d.push(e[t])});return s(d.length==a),d}drawCodewords(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let n=0;for(let e=this.size-1;e>=1;e-=2){6==e&&(e=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){let o=e-s,a=(e+1&2)==0,l=a?this.size-1-r:r;!this.isFunction[l][o]&&n<8*t.length&&(this.modules[l][o]=i(t[n>>>3],7-(7&n)),n++)}}s(n==8*t.length)}applyMask(t){if(t<0||t>7)throw RangeError("Mask value out of range");for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++){let r;switch(t){case 0:r=(n+e)%2==0;break;case 1:r=e%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+e)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(e/2))%2==0;break;case 5:r=n*e%2+n*e%3==0;break;case 6:r=(n*e%2+n*e%3)%2==0;break;case 7:r=((n+e)%2+n*e%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[e][n]&&r&&(this.modules[e][n]=!this.modules[e][n])}}getPenaltyScore(){let t=0;for(let n=0;n<this.size;n++){let r=!1,i=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[n][o]==r?5==++i?t+=e.PENALTY_N1:i>5&&t++:(this.finderPenaltyAddHistory(i,s),r||(t+=this.finderPenaltyCountPatterns(s)*e.PENALTY_N3),r=this.modules[n][o],i=1);t+=this.finderPenaltyTerminateAndCount(r,i,s)*e.PENALTY_N3}for(let n=0;n<this.size;n++){let r=!1,i=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][n]==r?5==++i?t+=e.PENALTY_N1:i>5&&t++:(this.finderPenaltyAddHistory(i,s),r||(t+=this.finderPenaltyCountPatterns(s)*e.PENALTY_N3),r=this.modules[o][n],i=1);t+=this.finderPenaltyTerminateAndCount(r,i,s)*e.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let r=0;r<this.size-1;r++){let i=this.modules[n][r];i==this.modules[n][r+1]&&i==this.modules[n+1][r]&&i==this.modules[n+1][r+1]&&(t+=e.PENALTY_N2)}let n=0;for(let t of this.modules)n=t.reduce((t,e)=>t+(e?1:0),n);let r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return s(0<=i&&i<=9),s(0<=(t+=i*e.PENALTY_N4)&&t<=2568888),t}getAlignmentPatternPositions(){if(1==this.version)return[];{let t=Math.floor(this.version/7)+2,e=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*t-2)),n=[6];for(let r=this.size-7;n.length<t;r-=e)n.splice(1,0,r);return n}}static getNumRawDataModules(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw RangeError("Version number out of range");let n=(16*t+128)*t+64;if(t>=2){let e=Math.floor(t/7)+2;n-=(25*e-10)*e-55,t>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw RangeError("Degree out of range");let n=[];for(let e=0;e<t-1;e++)n.push(0);n.push(1);let r=1;for(let i=0;i<t;i++){for(let t=0;t<n.length;t++)n[t]=e.reedSolomonMultiply(n[t],r),t+1<n.length&&(n[t]^=n[t+1]);r=e.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(t,n){let r=n.map(t=>0);for(let i of t){let t=i^r.shift();r.push(0),n.forEach((n,i)=>r[i]^=e.reedSolomonMultiply(n,t))}return r}static reedSolomonMultiply(t,e){if(t>>>8!=0||e>>>8!=0)throw RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285^(e>>>r&1)*t;return s(n>>>8==0),n}finderPenaltyCountPatterns(t){let e=t[1];s(e<=3*this.size);let n=e>0&&t[2]==e&&t[3]==3*e&&t[4]==e&&t[5]==e;return(n&&t[0]>=4*e&&t[6]>=e?1:0)+(n&&t[6]>=4*e&&t[0]>=e?1:0)}finderPenaltyTerminateAndCount(t,e,n){return t&&(this.finderPenaltyAddHistory(e,n),e=0),e+=this.size,this.finderPenaltyAddHistory(e,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(t,e){0==e[0]&&(t+=this.size),e.pop(),e.unshift(t)}},n=e;function r(t,e,n){if(e<0||e>31||t>>>e!=0)throw RangeError("Value out of range");for(let r=e-1;r>=0;r--)n.push(t>>>r&1)}function i(t,e){return(t>>>e&1)!=0}function s(t){if(!t)throw Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;let o=class{constructor(t,e,n){if(this.mode=t,this.numChars=e,this.bitData=n,e<0)throw RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let e=[];for(let n of t)r(n,8,e);return new o(o.Mode.BYTE,t.length,e)}static makeNumeric(t){if(!o.isNumeric(t))throw RangeError("String contains non-numeric characters");let e=[];for(let n=0;n<t.length;){let i=Math.min(t.length-n,3);r(parseInt(t.substr(n,i),10),3*i+1,e),n+=i}return new o(o.Mode.NUMERIC,t.length,e)}static makeAlphanumeric(t){let e;if(!o.isAlphanumeric(t))throw RangeError("String contains unencodable characters in alphanumeric mode");let n=[];for(e=0;e+2<=t.length;e+=2){let i=45*o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e));r(i+=o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e+1)),11,n)}return e<t.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e)),6,n),new o(o.Mode.ALPHANUMERIC,t.length,n)}static makeSegments(t){return""==t?[]:o.isNumeric(t)?[o.makeNumeric(t)]:o.isAlphanumeric(t)?[o.makeAlphanumeric(t)]:[o.makeBytes(o.toUtf8ByteArray(t))]}static makeEci(t){let e=[];if(t<0)throw RangeError("ECI assignment value out of range");if(t<128)r(t,8,e);else if(t<16384)r(2,2,e),r(t,14,e);else if(t<1e6)r(6,3,e),r(t,21,e);else throw RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,e)}static isNumeric(t){return o.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return o.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,e){let n=0;for(let r of t){let t=r.mode.numCharCountBits(e);if(r.numChars>=1<<t)return 1/0;n+=4+t+r.bitData.length}return n}static toUtf8ByteArray(t){t=encodeURI(t);let e=[];for(let n=0;n<t.length;n++)"%"!=t.charAt(n)?e.push(t.charCodeAt(n)):(e.push(parseInt(t.substr(n+1,2),16)),n+=2);return e}},a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(a||(a={})),(t=>{let e=class{constructor(t,e){this.ordinal=t,this.formatBits=e}},n=e;n.LOW=new e(0,1),n.MEDIUM=new e(1,0),n.QUARTILE=new e(2,3),n.HIGH=new e(3,2),t.Ecc=n})((r=a||(a={})).QrCode||(r.QrCode={})),(t=>{let e=class{constructor(t,e){this.modeBits=t,this.numBitsCharCount=e}numCharCountBits(t){return this.numBitsCharCount[Math.floor((t+7)/17)]}},n=e;n.NUMERIC=new e(1,[10,12,14]),n.ALPHANUMERIC=new e(2,[9,11,13]),n.BYTE=new e(4,[8,16,16]),n.KANJI=new e(8,[8,10,12]),n.ECI=new e(7,[0,0,0]),t.Mode=n})((i=a||(a={})).QrSegment||(i.QrSegment={}));var I=a,M={L:I.QrCode.Ecc.LOW,M:I.QrCode.Ecc.MEDIUM,Q:I.QrCode.Ecc.QUARTILE,H:I.QrCode.Ecc.HIGH},A=function(){try{new Path2D().addPath(new Path2D)}catch(t){return!1}return!0}();function k(t){let{value:e,size:n=128,level:r="L",bgColor:i="#FFFFFF",fgColor:s="#000000",includeMargin:o=!1,style:a,imageSettings:l}=t,h=w(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),u=null==l?void 0:l.src,c=(0,f.useRef)(null),d=(0,f.useRef)(null),[E,m]=(0,f.useState)(!1);(0,f.useEffect)(()=>{if(null!=c.current){let h=c.current,u=h.getContext("2d");if(!u)return;let f=I.QrCode.encodeText(e,M[r]).getModules(),E=o?4:0,m=f.length+2*E,g=function(t,e,n,r){if(null==r)return null;let i=t.length+2*(n?4:0),s=Math.floor(.1*e),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,h=null==r.x?t.length/2-a/2:r.x*o,u=null==r.y?t.length/2-l/2:r.y*o,c=null;if(r.excavate){let t=Math.floor(h),e=Math.floor(u);c={x:t,y:e,w:Math.ceil(a+h-t),h:Math.ceil(l+u-e)}}return{x:h,y:u,h:l,w:a,excavation:c}}(f,n,o,l),p=d.current,R=null!=g&&null!==p&&p.complete&&0!==p.naturalHeight&&0!==p.naturalWidth;if(R&&null!=g.excavation){var t,a;t=f,a=g.excavation,f=t.slice().map((t,e)=>e<a.y||e>=a.y+a.h?t:t.map((t,e)=>(e<a.x||e>=a.x+a.w)&&t))}let x=window.devicePixelRatio||1;h.height=h.width=n*x;let N=n/m*x;u.scale(N,N),u.fillStyle=i,u.fillRect(0,0,m,m),u.fillStyle=s,A?u.fill(new Path2D(function(t,e=0){let n=[];return t.forEach(function(t,r){let i=null;t.forEach(function(s,o){if(!s&&null!==i){n.push(`M${i+e} ${r+e}h${o-i}v1H${i+e}z`),i=null;return}if(o===t.length-1){if(!s)return;null===i?n.push(`M${o+e},${r+e} h1v1H${o+e}z`):n.push(`M${i+e},${r+e} h${o+1-i}v1H${i+e}z`);return}s&&null===i&&(i=o)})}),n.join("")}(f,E))):f.forEach(function(t,e){t.forEach(function(t,n){t&&u.fillRect(n+E,e+E,1,1)})}),R&&u.drawImage(p,g.x+E,g.y+E,g.w,g.h)}}),(0,f.useEffect)(()=>{m(!1)},[u]);let g=C({height:n,width:n},a),p=null;return null!=u&&(p=f.createElement("img",{src:u,key:u,style:{display:"none"},onLoad:()=>{m(!0)},ref:d})),f.createElement(f.Fragment,null,f.createElement("canvas",C({style:g,height:n,width:n,ref:c},h)),p)}var _=n(52829),P=n(9918);let{signPage:b}=c;(s=l||(l={})).ERROR="ERROR",s.SIGNED="SIGNED",s.TO_BE_SIGNED="TOBESIGNED",(o=h||(h={})).SIGNED="SIGNED",o.REJECTED="REJECTED",o.CANCELLED="CANCELLED",o.IN_PROGRESS="IN_PROGRESS",o.EXPIRED="EXPIRED",o.NOT_STARTED="NOT_STARTED",o.TO_BE_SIGNED="TOBESIGNED";let v=()=>{let t=(0,E.Hi)(),{token:e}=(0,E.aC)(t),{t:n}=(0,_.$)(["application"]),[r,i]=(0,f.useState)(!0),[s,o]=(0,f.useState)(),a=new URLSearchParams(window.location.search),c=a.get("productId"),R=parseInt(a.get("offerId")||"0",10),{offerApi:x}=(0,d.VDw)(),{signOtherMethod:N,loadingRedirect:y}=function(){let{offerApi:t,bankerApi:e}=(0,d.VDw)(),[n,r]=(0,f.useState)(!1),i=async(n,i,o,a)=>{let l=window.location.origin,h=window.btoa(`${l}/novaflexi/sign?productId=${d.leK.K1Fn}&offerId=${n}#access_token={tokenx}`);r(!0);try{let r=await e.getBanker(),i=await s(r),l=await t.signOffer({productId:d.leK.K1Fn,branch:i,offerId:n,channel:d.yHi.Tablet});!function(t,e,n,r,i,s){let o=i?.startsWith("3/")||i?.startsWith("adfs_"),a=o?s?.signUrlDesktop:s?.signUrlTablet,l=new URLSearchParams({applicationId:o?"FLEXI":"FLEXI_T",bufferId:t,productId:d.leK.K1Fn,offerId:e.toString()});n&&l.append("branchId",n),o||l.append("returnURL",r),window.location.href=`${a}?${l.toString()}${o?"":"#access_token={tokenx}"}`}(l.id,n,i,h,a,o)}catch(t){console.error(t)}finally{r(!1)}},s=async t=>{if(t?.branch)return t.branch;let n=await e.getBranches();if(n?.branches?.length)return n.branches[0].id;throw Error("No branch found")};return{signOtherMethod:i,loadingRedirect:n}}(),S=(0,d.ISN)({productId:c??d.SPk.K1Fn,offerId:R},void 0,{enabled:l.SIGNED===s});(0,f.useEffect)(()=>{let t=1,e=c??d.SPk.K1Fn,n=async()=>{let r=await x.checkResultOfSign({offerId:R,productId:e}),s=r.state;if(s===h.SIGNED||s===h.TO_BE_SIGNED){i(!1),o(s);return}if(s===h.CANCELLED||s===h.EXPIRED||s===h.REJECTED||t>=80){i(!1),o(l.ERROR);return}t++,setTimeout(n,1e3)};n()},[]);let C=()=>(0,u.jsx)(m.bBd,{variant:m.bBd.VARIANT.ERROR,title:b.notSigned.title,"data-cy":"chyba",animation:(0,u.jsx)(m.fwF,{size:m.fwF.SIZE.SIZE_128,autoplay:!0,loop:!1,color:m.fwF.COLOR.RED_100,delay:200,data:g}),children:(0,u.jsx)(m.nvN,{children:(0,u.jsx)(P.c,{t:n,i18nKey:b.notSigned.description})})}),w=()=>(0,u.jsxs)("div",{className:"py-5 text-center",children:[(0,u.jsx)(m.$jN,{"data-cy":"spinner",size:m.$jN.SIZE.LARGE,center:!0,className:"mb-3"}),(0,u.jsx)(m.nvN,{children:(0,u.jsx)(P.c,{t:n,i18nKey:b.loading.description})})]});return(0,u.jsxs)(m.umT,{className:"mx-4",children:[(0,u.jsxs)(m.Zbd,{children:[!r&&s===l.SIGNED&&(()=>{if(!S||S.isLoading)return w();if(!S.isSuccess)return C();let{number:t,prefix:e,bankCode:r}=S.data.receiver,{variableSymbol:i,constantSymbol:s}=S.data.symbols,o=S.data.amount.value,a=(0,E.f_)(new Date(S.data.execution.firstDate)),l=(0,E.f_)(new Date(S.data.execution.lastDate)),h=e&&"000000"!==e?`${e}-`:"",c=`${h}${t}/${r}`,d=`SPD*1.0*ACC:CZ5708000000000002226222*AM:${o}.00*CC:CZK*FRQ:1M*DT:${a}*DL:${l}*DH:1*X-VS:${i}*X-KS:${s}*MSG:ZIVOTNI POJISTENI`;return(0,u.jsx)(m.bBd,{variant:m.bBd.VARIANT.SUCCESS,title:b.signed.description,"data-cy":"success",animation:(0,u.jsx)(m.fwF,{size:m.fwF.SIZE.SIZE_128,autoplay:!0,loop:!1,color:m.fwF.COLOR.GREEN_100,delay:200,data:p}),children:(0,u.jsx)(m.X2j,{noGutters:!0,children:(0,u.jsx)(m.Zbd,{className:"offset-md-2 col-md-8",children:(0,u.jsxs)(m.X2j,{noGutters:!0,children:[(0,u.jsx)(m.JXS,{md:4,style:{minWidth:"160px",paddingTop:"0.75rem"},children:(0,u.jsx)(k,{value:d,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"M",includeMargin:!1})}),(0,u.jsxs)(m.JXS,{md:3,children:[(0,u.jsx)(m.nvN,{style:D,children:n("signPage.payment.accountNumber")}),(0,u.jsx)(m.nvN,{style:O,children:c}),(0,u.jsx)(m.nvN,{style:D,children:n("signPage.payment.constantSymbol")}),(0,u.jsx)(m.nvN,{style:O,children:s})]}),(0,u.jsxs)(m.JXS,{md:4,children:[(0,u.jsx)(m.nvN,{style:D,children:n("signPage.payment.variableSymbol")}),(0,u.jsx)(m.nvN,{style:O,children:i}),(0,u.jsx)(m.nvN,{style:D,children:n("signPage.payment.amount")}),(0,u.jsxs)(m.nvN,{style:T,children:[(0,u.jsxs)("b",{children:[o," Kč"]})," měs\xedčně"]})]})]})})})})})(),!r&&s===l.TO_BE_SIGNED&&(0,u.jsx)(m.bBd,{variant:m.bBd.VARIANT.SUCCESS,title:b.toBeSigned.title,"data-cy":"to-sign",animation:(0,u.jsx)(m.fwF,{size:m.fwF.SIZE.SIZE_128,autoplay:!0,loop:!1,color:m.fwF.COLOR.GREEN_100,delay:200,data:p}),children:(0,u.jsx)(m.nvN,{children:(0,u.jsx)(P.c,{t:n,i18nKey:b.toBeSigned.description})})}),!r&&s===l.ERROR&&C(),r&&w()]}),!r&&(0,u.jsxs)(m.eWM,{children:[(s===l.SIGNED||s===l.TO_BE_SIGNED)&&(0,u.jsx)(m.zxk,{"data-cy":"btn-dokončit",variant:m.zxk.VARIANT.PRIMARY,onClick:()=>window.location.href="cshub://cshubappquit",children:(0,u.jsx)(P.c,{t:n,i18nKey:b.signed.firstButtonText})}),s===l.ERROR&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m.zxk,{"data-cy":"btn-zrusit",className:"mr-3 mb-3 mb-sm-0",variant:m.zxk.VARIANT.SECONDARY,onClick:()=>window.location.href="cshub://cshubappquit",children:(0,u.jsx)(P.c,{t:n,i18nKey:b.notSigned.secondButtonText})}),(0,u.jsx)(m.zxk,{isLoading:y,"data-cy":"btn-sign-variant",variant:m.zxk.VARIANT.PRIMARY,disabled:!e||y,onClick:e?()=>N(Number(R),c,t,e):void 0,children:(0,u.jsx)(P.c,{t:n,i18nKey:b.notSigned.firstButtonText})})]})]})]})},D={fontWeight:400,fontSize:"14px",paddingTop:"0.75rem",paddingBottom:0},O={fontSize:"16px",lineHeight:"24px",fontWeight:"bold",paddingTop:0},T={fontSize:"16px",lineHeight:"24px",color:"#199CF9",paddingTop:0};var B=v}},function(t){t.O(0,[49774,92888,40179],function(){return t(t.s=74069)}),_N_E=t.O()}]);